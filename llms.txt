# junco

[![Check
ðŸ› ](https://github.com/johnsonandjohnson/junco/actions/workflows/inspect.yaml/badge.svg)](https://johnsonandjohnson.github.io/junco/unit-test-report-non-cran/)
[![Docs
ðŸ“š](https://github.com/johnsonandjohnson/junco/actions/workflows/pkgdown.yaml/badge.svg)](https://johnsonandjohnson.github.io/junco/)
[![Code Coverage
ðŸ“”](https://raw.githubusercontent.com/johnsonandjohnson/junco/refs/heads/gh-pages/_xml_coverage_reports/badge.svg)](https://johnsonandjohnson.github.io/junco/_xml_coverage_reports/coverage.html)

![GitHub
forks](https://img.shields.io/github/forks/johnsonandjohnson/junco?style=social)![GitHub
repo
stars](https://img.shields.io/github/stars/johnsonandjohnson/junco?style=social)

![GitHub commit
activity](https://img.shields.io/github/commit-activity/m/johnsonandjohnson/junco)![GitHub
contributors](https://img.shields.io/github/contributors/johnsonandjohnson/junco)![GitHub
last
commit](https://img.shields.io/github/last-commit/johnsonandjohnson/junco)![GitHub
pull
requests](https://img.shields.io/github/issues-pr/johnsonandjohnson/junco)![GitHub
repo
size](https://img.shields.io/github/repo-size/johnsonandjohnson/junco)[![Project
Status: Active â€“ The project has reached a stable, usable state and is
being actively
developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
[![Current
Version](https://img.shields.io/github/r-package/v/johnsonandjohnson/junco/main?color=purple&label=package%20version)](https://github.com/johnsonandjohnson/junco/tree/main)
[![Open
Issues](https://img.shields.io/github/issues-raw/johnsonandjohnson/junco?color=red&label=open%20issues)](https://github.com/johnsonandjohnson/junco/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc)

## Overview

The junco R package contains analysis functions to create tables and
listings used for clinical trial reporting. It complements the tern
package by providing additional statistical analysis capabilities.

The package provides a range of functionality, such as:

- Statistical analysis (ANCOVA, MMRM, Cox regression, Kaplan-Meier)
- Calculation of odds ratios, relative risks, and proportion differences
- Event incidence rate analysis
- Frequency tabulations and summarizations
- Reference-based multiple imputation (RBMI) for handling missing data
- Production-ready RTF exporter for listings and tables (see
  [tt_to_tbldf](https://johnsonandjohnson.github.io/junco/reference/tt_to_tlgrtf.html))
- Creation of tables, listings, and graphs (TLGs)

## Installation

Either you can install the stbale CRAN version

``` r
install.packages("pharmaverseadamjnj") #CRAN Release
```

Or you can install the development version from GitHub:

``` r
require('remotes')
remotes::install_github("johnsonandjohnson/junco", ref = "dev") #or for the rolling dev release
```

## Usage

To understand how to use this package, please refer to the [junco
article](https://johnsonandjohnson.github.io/junco/articles/junco.html),
which provides multiple examples of code implementation.

See package vignettes `browseVignettes(package = "junco")` for usage of
this package.

# Package index

## junco Analysis Functions

The following functions are the Analysis functions used used to create
common table layouts.

- [`s_ancova_j()`](https://johnsonandjohnson.github.io/junco/reference/s_ancova_j.md)
  : Junco Extended ANCOVA Function

- [`a_summarize_ancova_j()`](https://johnsonandjohnson.github.io/junco/reference/s_summarize_ancova_j.md)
  [`s_summarize_ancova_j()`](https://johnsonandjohnson.github.io/junco/reference/s_summarize_ancova_j.md)
  : ANCOVA Summary Function

- [`column_stats()`](https://johnsonandjohnson.github.io/junco/reference/column_stats.md)
  : Statistics within the column space

- [`a_freq_combos_j()`](https://johnsonandjohnson.github.io/junco/reference/a_freq_combos_j.md)
  : Analysis function count and percentage in column design controlled
  by combosdf

- [`s_summarize_ex_j()`](https://johnsonandjohnson.github.io/junco/reference/a_summarize_ex_j.md)
  [`a_summarize_ex_j()`](https://johnsonandjohnson.github.io/junco/reference/a_summarize_ex_j.md)
  : Tabulation for Exposure Tables

- [`s_freq_j()`](https://johnsonandjohnson.github.io/junco/reference/a_freq_j.md)
  [`a_freq_j()`](https://johnsonandjohnson.github.io/junco/reference/a_freq_j.md)
  [`a_freq_j_with_exclude()`](https://johnsonandjohnson.github.io/junco/reference/a_freq_j.md)
  : Analysis/statistical function for count and percentage in core
  columns and (optional) relative risk columns

- [`a_freq_subcol_j()`](https://johnsonandjohnson.github.io/junco/reference/a_freq_subcol_j.md)
  : Analysis function count and percentage with extra column-subsetting
  in selected columns (controlled by subcol\_\* arguments)

- [`a_freq_resp_var_j()`](https://johnsonandjohnson.github.io/junco/reference/a_freq_resp_var_j.md)
  : Analysis Function for Response Variables

- [`a_eair100_j()`](https://johnsonandjohnson.github.io/junco/reference/a_eair100_j.md)
  : Exposure-Adjusted Incidence Rate

- [`a_proportion_ci_factor()`](https://johnsonandjohnson.github.io/junco/reference/a_proportion_ci_factor.md)
  : Formatted Analysis Function For Proportion Confidence Interval for
  Factor

- [`a_proportion_ci_logical()`](https://johnsonandjohnson.github.io/junco/reference/a_proportion_ci_logical.md)
  : Formatted Analysis Function For Proportion Confidence Interval for
  Logical

- [`a_summarize_aval_chg_diff_j()`](https://johnsonandjohnson.github.io/junco/reference/a_summarize_aval_chg_diff_j.md)
  : Analysis function 3-column presentation

- [`a_maxlev()`](https://johnsonandjohnson.github.io/junco/reference/a_maxlev.md)
  : Calculate Count and Percentage of the Maximum Level of an Ordered
  Factor per Subject.

- [`a_two_tier()`](https://johnsonandjohnson.github.io/junco/reference/a_two_tier.md)
  : Two Tier Analysis Function

- [`rbmi_analyse()`](https://johnsonandjohnson.github.io/junco/reference/rbmi_analyse.md)
  : Analyse Multiple Imputed Datasets

- [`analyze_values()`](https://johnsonandjohnson.github.io/junco/reference/analyze_values.md)
  : Shortcut Layout Function for Standard Continuous Variable Analysis

- [`rbmi_ancova()`](https://johnsonandjohnson.github.io/junco/reference/rbmi_ancova.md)
  : Analysis of Covariance

- [`rbmi_ancova_single()`](https://johnsonandjohnson.github.io/junco/reference/rbmi_ancova_single.md)
  : Implements an Analysis of Covariance (ANCOVA)

- [`build_formula()`](https://johnsonandjohnson.github.io/junco/reference/build_formula.md)
  : Building Model Formula

- [`c_proportion_logical()`](https://johnsonandjohnson.github.io/junco/reference/c_proportion_logical.md)
  :

  c_function for proportion of `TRUE` in logical vector

- [`cmp_cfun()`](https://johnsonandjohnson.github.io/junco/reference/cmp_cfun.md)
  : Summary Analysis Function for Compliance Columns

- [`cmp_post_fun()`](https://johnsonandjohnson.github.io/junco/reference/cmp_post_fun.md)
  [`cmp_split_fun()`](https://johnsonandjohnson.github.io/junco/reference/cmp_post_fun.md)
  : Split Function for Compliance Columns

- [`find_missing_chg_after_avisit()`](https://johnsonandjohnson.github.io/junco/reference/find_missing_chg_after_avisit.md)
  : Helper for Finding AVISIT after which CHG are all Missing

- [`fit_ancova()`](https://johnsonandjohnson.github.io/junco/reference/fit_ancova.md)
  :

  `ANCOVA` Analysis

- [`fit_mmrm_j()`](https://johnsonandjohnson.github.io/junco/reference/fit_mmrm_j.md)
  :

  `MMRM` Analysis

- [`a_coxph_hr()`](https://johnsonandjohnson.github.io/junco/reference/coxph_hr.md)
  [`s_coxph_hr()`](https://johnsonandjohnson.github.io/junco/reference/coxph_hr.md)
  : Workaround statistics function to add HR with CI

- [`h_tidy_pool()`](https://johnsonandjohnson.github.io/junco/reference/tabulate_rbmi.md)
  [`s_rbmi_lsmeans()`](https://johnsonandjohnson.github.io/junco/reference/tabulate_rbmi.md)
  [`a_rbmi_lsmeans()`](https://johnsonandjohnson.github.io/junco/reference/tabulate_rbmi.md)
  **\[stable\]** : Tabulation of RBMI Results

- [`tidy(`*`<tern_model>`*`)`](https://johnsonandjohnson.github.io/junco/reference/tabulate_lsmeans.md)
  [`s_lsmeans()`](https://johnsonandjohnson.github.io/junco/reference/tabulate_lsmeans.md)
  [`a_lsmeans()`](https://johnsonandjohnson.github.io/junco/reference/tabulate_lsmeans.md)
  **\[stable\]** : Tabulation of Least Square Means Results

- [`or_glm_j()`](https://johnsonandjohnson.github.io/junco/reference/h_odds_ratio.md)
  [`or_clogit_j()`](https://johnsonandjohnson.github.io/junco/reference/h_odds_ratio.md)
  [`or_cmh()`](https://johnsonandjohnson.github.io/junco/reference/h_odds_ratio.md)
  **\[stable\]** : Helper functions for odds ratio estimation

- [`make_rbmi_cluster()`](https://johnsonandjohnson.github.io/junco/reference/make_rbmi_cluster.md)
  :

  Create a `rbmi` ready cluster

- [`rbmi_mmrm()`](https://johnsonandjohnson.github.io/junco/reference/rbmi_mmrm.md)
  : MMRM Analysis for Imputed Datasets

- [`a_event_free()`](https://johnsonandjohnson.github.io/junco/reference/event_free.md)
  [`s_event_free()`](https://johnsonandjohnson.github.io/junco/reference/event_free.md)
  : Workaround statistics function to time point survival estimate with
  CI

- [`a_odds_ratio_j()`](https://johnsonandjohnson.github.io/junco/reference/odds_ratio.md)
  [`s_odds_ratio_j()`](https://johnsonandjohnson.github.io/junco/reference/odds_ratio.md)
  **\[stable\]** : Odds ratio estimation

- [`par_lapply()`](https://johnsonandjohnson.github.io/junco/reference/par_lapply.md)
  : Parallelise Lapply

- [`a_proportion_diff_j()`](https://johnsonandjohnson.github.io/junco/reference/prop_diff.md)
  [`s_proportion_diff_j()`](https://johnsonandjohnson.github.io/junco/reference/prop_diff.md)
  : Proportion difference estimation

- [`prop_post_fun()`](https://johnsonandjohnson.github.io/junco/reference/prop_post_fun.md)
  [`prop_split_fun()`](https://johnsonandjohnson.github.io/junco/reference/prop_post_fun.md)
  : Split Function for Proportion Analysis Columns

- [`prop_ratio_cmh()`](https://johnsonandjohnson.github.io/junco/reference/prop_ratio_cmh.md)
  : Relative Risk CMH Statistic

- [`prop_table_afun()`](https://johnsonandjohnson.github.io/junco/reference/prop_table_afun.md)
  : Formatted Analysis Function for Proportion Analysis

- [`a_relative_risk()`](https://johnsonandjohnson.github.io/junco/reference/relative_risk.md)
  [`s_relative_risk()`](https://johnsonandjohnson.github.io/junco/reference/relative_risk.md)
  : Relative risk estimation

- [`resp01_a_comp_stat_factor()`](https://johnsonandjohnson.github.io/junco/reference/resp01_a_comp_stat_factor.md)
  : Formatted Analysis Function for Comparative Statistic in Response
  Tables (RESP01)

- [`resp01_a_comp_stat_logical()`](https://johnsonandjohnson.github.io/junco/reference/resp01_a_comp_stat_logical.md)
  : Formatted Analysis Function for Comparative Statistic in Response
  Tables (RESP01)

- [`resp01_acfun()`](https://johnsonandjohnson.github.io/junco/reference/resp01_acfun.md)
  : Formatted Analysis and Content Summary Function for Response Tables
  (RESP01)

- [`resp01_counts_cfun()`](https://johnsonandjohnson.github.io/junco/reference/resp01_counts_cfun.md)
  : Content Row Function for Counts of Subgroups in Response Tables
  (RESP01)

- [`resp01_split_fun_fct()`](https://johnsonandjohnson.github.io/junco/reference/resp01_split_fun_fct.md)
  : Split Function Factory for the Response Tables (RESP01)

- [`response_by_var()`](https://johnsonandjohnson.github.io/junco/reference/response_by_var.md)
  : Count denom fraction statistic

- [`s_proportion_factor()`](https://johnsonandjohnson.github.io/junco/reference/s_proportion_factor.md)
  : s_function for proportion of factor levels

- [`summarize_row_counts()`](https://johnsonandjohnson.github.io/junco/reference/summarize_row_counts.md)
  : Layout Creating Function Adding Row Counts

- [`s_proportion_logical()`](https://johnsonandjohnson.github.io/junco/reference/s_proportion_logical.md)
  :

  s_function for proportion of `TRUE` in logical vector

- [`summarize_coxreg_multivar()`](https://johnsonandjohnson.github.io/junco/reference/summarize_coxreg_multivar.md)
  : Layout Generating Function for TEFOS03 and Related Cox Regression
  Layouts

- [`summarize_lsmeans_wide()`](https://johnsonandjohnson.github.io/junco/reference/summarize_lsmeans_wide.md)
  : Layout Generating Function for LS Means Wide Table Layouts

- [`s_summarize_mmrm()`](https://johnsonandjohnson.github.io/junco/reference/summarize_mmrm.md)
  [`a_summarize_mmrm()`](https://johnsonandjohnson.github.io/junco/reference/summarize_mmrm.md)
  **\[stable\]** : Dynamic tabulation of MMRM results with tables

- [`h_get_trtvar_refpath()`](https://johnsonandjohnson.github.io/junco/reference/h_get_trtvar_refpath.md)
  : Get Treatment Variable Reference Path

- [`rbmi_mmrm_single_info()`](https://johnsonandjohnson.github.io/junco/reference/rbmi_mmrm_single_info.md)
  : Extract Single Visit Information from a Fitted MMRM for Multiple
  Imputation Analysis

- [`rbmi_pool()`](https://johnsonandjohnson.github.io/junco/reference/rbmi_pool.md)
  : Pool analysis results obtained from the imputed datasets

- [`a_cmhrms_j()`](https://johnsonandjohnson.github.io/junco/reference/cmhrms.md)
  [`s_cmhrms_j()`](https://johnsonandjohnson.github.io/junco/reference/cmhrms.md)
  [`a_cmhrms_j_with_exclude()`](https://johnsonandjohnson.github.io/junco/reference/cmhrms.md)
  : Cochran-Mantel-Haenszel Row Mean Scores test

- [`a_test_proportion_diff()`](https://johnsonandjohnson.github.io/junco/reference/prop_diff_test.md)
  **\[stable\]** : Difference test for two proportions

## junco Formatting Functions

The following functions are the junco formatting functions used to
create common table layouts.

- [`jjcsformat_xx()`](https://johnsonandjohnson.github.io/junco/reference/jjcsformat_xx.md)
  [`jjcsformat_pval_fct()`](https://johnsonandjohnson.github.io/junco/reference/jjcsformat_xx.md)
  [`jjcsformat_range_fct()`](https://johnsonandjohnson.github.io/junco/reference/jjcsformat_xx.md)
  : Utility for specifying custom formats
- [`jjcs_num_formats()`](https://johnsonandjohnson.github.io/junco/reference/jjcs_num_formats.md)
  : Numeric Formatting Function
- [`jjcsformat_cnt_den_fract_fct()`](https://johnsonandjohnson.github.io/junco/reference/count_fraction.md)
  [`jjcsformat_count_fraction()`](https://johnsonandjohnson.github.io/junco/reference/count_fraction.md)
  [`jjcsformat_count_denom_fraction()`](https://johnsonandjohnson.github.io/junco/reference/count_fraction.md)
  [`jjcsformat_fraction_count_denom()`](https://johnsonandjohnson.github.io/junco/reference/count_fraction.md)
  : Formatting functions for count and fraction, and for count
  denominator and fraction values
- [`insert_blank_line()`](https://johnsonandjohnson.github.io/junco/reference/insert_blank_line.md)
  : Insertion of Blank Lines in a Layout

## junco Sorting Functions and Pruning Functions

The following functions are the junco sorting and pruning functions used
to create common table layouts.

- [`bspt_pruner()`](https://johnsonandjohnson.github.io/junco/reference/bspt_pruner.md)
  : Pruning Function for pruning based on a fraction and/or a difference
  from the control arm
- [`count_pruner()`](https://johnsonandjohnson.github.io/junco/reference/count_pruner.md)
  : Count Pruner
- [`jj_complex_scorefun()`](https://johnsonandjohnson.github.io/junco/reference/complex_scoring_function.md)
  : Complex Scoring Function
- [`keep_non_null_rows()`](https://johnsonandjohnson.github.io/junco/reference/keep_non_null_rows.md)
  : Pruning Function to accommodate removal of completely NULL rows
  within a table
- [`remove_rows()`](https://johnsonandjohnson.github.io/junco/reference/remove_rows.md)
  : Pruning function to remove specific rows of a table regardless of
  counts
- [`safe_prune_table()`](https://johnsonandjohnson.github.io/junco/reference/safe_prune_table.md)
  : Safely Prune Table With Empty Table Message If Needed

## junco Splitting Functions

The following functions are junco column spanning functions used to
create common table layouts.

- [`cond_rm_facets()`](https://johnsonandjohnson.github.io/junco/reference/cond_rm_facets.md)
  : Conditional Removal of Facets
- [`create_colspan_map()`](https://johnsonandjohnson.github.io/junco/reference/colspan_map.md)
  : Creation of Column Spanning Mapping Dataframe
- [`create_colspan_var()`](https://johnsonandjohnson.github.io/junco/reference/colspan_var.md)
  : Creation of Column Spanning Variables
- [`do_exclude_split()`](https://johnsonandjohnson.github.io/junco/reference/do_exclude_split.md)
  : Predicate to Check if Split Should be Excluded
- [`make_combo_splitfun()`](https://johnsonandjohnson.github.io/junco/reference/make_combo_splitfun.md)
  : Split Function Helper
- [`real_add_overall_facet()`](https://johnsonandjohnson.github.io/junco/reference/real_add_overall_facet.md)
  : Add Overall Facet

## junco Functions For titles/footnotes

The following utility functions help to add titles/footnotes.

- [`listing_column_widths()`](https://johnsonandjohnson.github.io/junco/reference/def_colwidths.md)
  [`def_colwidths()`](https://johnsonandjohnson.github.io/junco/reference/def_colwidths.md)
  : Define Column Widths
- [`get_titles_from_file()`](https://johnsonandjohnson.github.io/junco/reference/get_titles_from_file.md)
  : Get Titles/Footers For Table From Sources
- [`set_titles()`](https://johnsonandjohnson.github.io/junco/reference/set_titles.md)
  : Set Output Titles

## junco Miscellaneous Functions

The following functions are other miscellaneous junco functions used to
create common table layouts.

- [`remove_col_count()`](https://johnsonandjohnson.github.io/junco/reference/remove_col_count.md)
  : Removal of Unwanted Column Counts

- [`rm_levels()`](https://johnsonandjohnson.github.io/junco/reference/rm_levels.md)
  : Removal of Levels

- [`get_mmrm_lsmeans()`](https://johnsonandjohnson.github.io/junco/reference/get_mmrm_lsmeans.md)
  :

  Extract Least Square Means from `MMRM`

- [`get_ref_info()`](https://johnsonandjohnson.github.io/junco/reference/get_ref_info.md)
  : Obtain Reference Information for a Global Reference Group

- [`get_visit_levels()`](https://johnsonandjohnson.github.io/junco/reference/get_visit_levels.md)
  : Get Visit Levels in Order Defined by Numeric Version

## junco Functions For generating .rtfs, .docxs and HTMLs

The following utility functions help to generate the .rtfs, .docxs and
HTMLs.

- [`tt_to_tlgrtf()`](https://johnsonandjohnson.github.io/junco/reference/tt_to_tlgrtf.md)
  : TableTree to .rtf Conversion
- [`tt_to_flextable_j()`](https://johnsonandjohnson.github.io/junco/reference/tt_to_flextable_j.md)
  **\[experimental\]** : Convert a VTableTree or a listing_df object to
  a flextable
- [`export_as_docx_j()`](https://johnsonandjohnson.github.io/junco/reference/export_as_docx_j.md)
  **\[experimental\]** : Export a VTableTree or a listing_df object into
  docx
- [`export_graph_as_docx()`](https://johnsonandjohnson.github.io/junco/reference/export_graph_as_docx.md)
  **\[experimental\]** : export_graph_as_docx
- [`theme_docx_default_j()`](https://johnsonandjohnson.github.io/junco/reference/theme_docx_default_j.md)
  **\[experimental\]** : Obtain the default theme for the docx

# Articles

### Junco

- [Tabulation](https://johnsonandjohnson.github.io/junco/articles/junco.md):
- [TrueType-Aware Automatic Column
  Widths](https://johnsonandjohnson.github.io/junco/articles/auto_colwidths.md):
- [Table & Listing
  Customizations](https://johnsonandjohnson.github.io/junco/articles/table_and_listing_customizations.md):
