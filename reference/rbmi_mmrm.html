<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>MMRM Analysis for Imputed Datasets — rbmi_mmrm • junco</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="MMRM Analysis for Imputed Datasets — rbmi_mmrm"><meta name="description" content="Performs an MMRM for two or more groups returning the estimated
'treatment effect' (i.e. the contrast between treatment groups and the control
group) and the least square means estimates in each group."><meta property="og:description" content="Performs an MMRM for two or more groups returning the estimated
'treatment effect' (i.e. the contrast between treatment groups and the control
group) and the least square means estimates in each group."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">junco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/johnsonandjohnson/junco/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>MMRM Analysis for Imputed Datasets</h1>
      <small class="dont-index">Source: <a href="https://github.com/johnsonandjohnson/junco/blob/v0.1.0/R/mmrm_rbmi.R" class="external-link"><code>R/mmrm_rbmi.R</code></a></small>
      <div class="d-none name"><code>rbmi_mmrm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Performs an MMRM for two or more groups returning the estimated
'treatment effect' (i.e. the contrast between treatment groups and the control
group) and the least square means estimates in each group.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rbmi_mmrm</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">vars</span>,</span>
<span>  cov_struct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"us"</span>, <span class="st">"toep"</span>, <span class="st">"cs"</span>, <span class="st">"ar1"</span><span class="op">)</span>,</span>
<span>  visits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"counterfactual"</span>, <span class="st">"equal"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(<code>data.frame</code>)<br> containing the data to be used in the model.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a></dt>
<dd><p>(<code>vars</code>)<br> list as generated by <code><a href="https://insightsengineering.github.io/rbmi/reference/set_vars.html" class="external-link">rbmi::set_vars()</a></code>. Only the <code>subjid</code>, <code>group</code>,
<code>visit</code>, <code>outcome</code> and <code>covariates</code> elements are required. See details.</p></dd>


<dt id="arg-cov-struct">cov_struct<a class="anchor" aria-label="anchor" href="#arg-cov-struct"></a></dt>
<dd><p>(<code>string</code>)<br> the covariance structure to use. Note that the same
covariance structure is assumed for all treatment groups.</p></dd>


<dt id="arg-visits">visits<a class="anchor" aria-label="anchor" href="#arg-visits"></a></dt>
<dd><p>(<code>NULL</code> or <code>character</code>)<br> An optional character vector specifying
which visits to fit the MMRM at. If <code>NULL</code>, the MMRM model will be fit to
the whole dataset.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>(<code>string</code>)<br> the weighting strategy to be used when calculating the
least square means, either <code>'counterfactual'</code> or <code>'equal'</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to <code><a href="https://openpharma.github.io/mmrm/latest-tag/reference/mmrm.html" class="external-link">mmrm::mmrm()</a></code>, in particular
<code>method</code> and <code>vcov</code> to control the degrees of freedom and variance-covariance
adjustment methods as well as <code>reml</code> decide between REML and ML estimation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list of variance (<code>var_*</code>), treatment effect (<code>trt_*</code>), and
least square mean (<code>lsm_*</code>) estimates for each visit, organized as
described in Details above.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function works as follows:</p><ol><li><p>Optionally select the subset of the <code>data</code> corresponding to `visits.</p></li>
<li><p>Fit an MMRM as <code>vars$outcome ~ vars$group + vars$visit + vars$covariates</code>
with the specified covariance structure for visits within subjects.</p></li>
<li><p>Extract the 'treatment effect' &amp; least square means for each treatment group
vs the control group.</p></li>
</ol><p>In order to meet the formatting standards set by <code><a href="https://insightsengineering.github.io/rbmi/reference/analyse.html" class="external-link">rbmi::analyse()</a></code> the results will be collapsed
into a single list suffixed by the visit name, e.g.:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   <span class="at">var_B_visit_1 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>   <span class="at">trt_B_visit_1 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>   <span class="at">lsm_A_visit_1 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>   <span class="at">lsm_B_visit_1 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>   <span class="at">var_B_visit_2 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>   <span class="at">trt_B_visit_2 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>   <span class="at">lsm_A_visit_2 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>   <span class="at">lsm_B_visit_2 =</span> <span class="fu">list</span>(<span class="at">est =</span> ...),</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>   ...</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>)</span></code></pre><p></p></div>
<p>Please note that 'trt' refers to the treatment effects, and 'lsm' refers to the least
square mean results. In the above example <code>vars$group</code> has two factor levels A and B.
The new 'var' refers to the model estimated variance of the residuals at the given
visit, together with the degrees of freedom (which is treatment group specific).</p>
<p>If you want to include additional interaction terms in your model this can be done
by providing them to the <code>covariates</code> argument of <code><a href="https://insightsengineering.github.io/rbmi/reference/set_vars.html" class="external-link">rbmi::set_vars()</a></code>
e.g. <code>set_vars(covariates = c('sex*age'))</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The <code>group</code> and <code>visit</code> interaction <code>group:visit</code> is not included by
default in the model, therefore please add that to <code>covariates</code> manually if
you want to include it. This will make sense in most cases.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="rbmi_analyse.html">rbmi_analyse()</a></code></p>
<p><code><a href="https://openpharma.github.io/mmrm/latest-tag/reference/mmrm.html" class="external-link">mmrm::mmrm()</a></code></p>
<p><code><a href="https://insightsengineering.github.io/rbmi/reference/set_vars.html" class="external-link">rbmi::set_vars()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gabriel Becker, Ilse Augustyns, Paul Jenkins, Daniel Hofstaedter, Joseph Kovach, David Munoz Tord, Daniel Sabanes Bove, Ezequiel Anokian, Renfei Mao, Mrinal Das, Johnson &amp; Johnson Innovative Medicine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

