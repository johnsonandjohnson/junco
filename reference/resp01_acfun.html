<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Formatted Analysis and Content Summary Function for Response Tables (RESP01) — resp01_acfun • junco</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Formatted Analysis and Content Summary Function for Response Tables (RESP01) — resp01_acfun"><meta name="description" content="This function applies to both factor and logical columns called
.var from df. Depending on the position in the split, it returns the
right formatted results for the RESP01 and related layouts."><meta property="og:description" content="This function applies to both factor and logical columns called
.var from df. Depending on the position in the split, it returns the
right formatted results for the RESP01 and related layouts."><meta property="og:image" content="https://johnsonandjohnson.github.io/junco/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">junco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/johnsonandjohnson/junco/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Formatted Analysis and Content Summary Function for Response Tables (RESP01)</h1>
      <small class="dont-index">Source: <a href="https://github.com/johnsonandjohnson/junco/blob/main/R/resp01_functions.R" class="external-link"><code>R/resp01_functions.R</code></a></small>
      <div class="d-none name"><code>resp01_acfun.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function applies to both <code>factor</code> and <code>logical</code> columns called
<code>.var</code> from <code>df</code>. Depending on the position in the split, it returns the
right formatted results for the RESP01 and related layouts.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">resp01_acfun</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  labelstr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">.var</span>,</span>
<span>  <span class="va">.spl_context</span>,</span>
<span>  <span class="va">include_comp</span>,</span>
<span>  <span class="va">.alt_df</span>,</span>
<span>  <span class="va">conf_level</span>,</span>
<span>  <span class="va">arm</span>,</span>
<span>  <span class="va">strata</span>,</span>
<span>  <span class="va">formats</span>,</span>
<span>  <span class="va">methods</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>(<code>data.frame</code>)<br> data set containing all analysis variables.</p></dd>


<dt id="arg-labelstr">labelstr<a class="anchor" aria-label="anchor" href="#arg-labelstr"></a></dt>
<dd><p>(<code>character</code>)<br> label of the level of the parent split currently being summarized
(must be present as second argument in Content Row Functions). See <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/summarize_row_groups.html" class="external-link">rtables::summarize_row_groups()</a></code>
for more information.</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>(<code>string</code>)<br> only for logicals, which label to use. (For factors, the
labels are the factor levels.)</p></dd>


<dt id="arg--var">.var<a class="anchor" aria-label="anchor" href="#arg--var"></a></dt>
<dd><p>(<code>string</code>)<br> single variable name that is passed by <code>rtables</code> when requested
by a statistics function.</p></dd>


<dt id="arg--spl-context">.spl_context<a class="anchor" aria-label="anchor" href="#arg--spl-context"></a></dt>
<dd><p>(<code>data.frame</code>)<br> gives information about ancestor split states
that is passed by <code>rtables</code>.</p></dd>


<dt id="arg-include-comp">include_comp<a class="anchor" aria-label="anchor" href="#arg-include-comp"></a></dt>
<dd><p>(<code>character</code> or <code>flag</code>)<br> whether to include comparative
statistic results, either <code>character</code> for factors or <code>flag</code> for logicals.</p></dd>


<dt id="arg--alt-df">.alt_df<a class="anchor" aria-label="anchor" href="#arg--alt-df"></a></dt>
<dd><p>(<code>data.frame</code>)<br> alternative data frame used for denominator calculation.</p></dd>


<dt id="arg-conf-level">conf_level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>(<code>proportion</code>)<br> confidence level of the interval.</p></dd>


<dt id="arg-arm">arm<a class="anchor" aria-label="anchor" href="#arg-arm"></a></dt>
<dd><p>(<code>string</code>)<br> column name in the data frame that identifies the treatment arms.</p></dd>


<dt id="arg-strata">strata<a class="anchor" aria-label="anchor" href="#arg-strata"></a></dt>
<dd><p>(<code>character</code> or <code>NULL</code>)<br> variable names indicating stratification factors.</p></dd>


<dt id="arg-formats">formats<a class="anchor" aria-label="anchor" href="#arg-formats"></a></dt>
<dd><p>(<code>list</code>)<br> containing formats for <code>prop_ci</code>, <code>comp_stat_ci</code>
and <code>pval</code>.</p></dd>


<dt id="arg-methods">methods<a class="anchor" aria-label="anchor" href="#arg-methods"></a></dt>
<dd><p>(<code>list</code>)<br> containing methods for comparative statistics. The element <code>comp_stat_ci</code> can be
'rr' (relative risk), 'or_cmh' (odds ratio with CMH estimation and p-value) or 'or_logistic' (odds ratio
estimated by conditional or standard logistic regression). The element <code>pval</code> can be 'fisher' (Fisher's
exact test) or 'chisq' (chi-square test), only used when using unstratified analyses with 'or_logistic'.
The element <code>prop_ci</code> specifies the method for proportion confidence interval calculation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The formatted result as <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/in_rows.html" class="external-link">rtables::in_rows()</a></code> result.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">fake_spl_context</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  cur_col_split_val <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>ARM <span class="op">=</span> <span class="st">"A: Drug X"</span>, count_prop <span class="op">=</span> <span class="st">"count_prop"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">DM</span>, <span class="va">SEX</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">resp01_acfun</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">dm</span>,</span></span>
<span class="r-in"><span>  .alt_df <span class="op">=</span> <span class="va">dm</span>,</span></span>
<span class="r-in"><span>  .var <span class="op">=</span> <span class="st">"COUNTRY"</span>,</span></span>
<span class="r-in"><span>  .spl_context <span class="op">=</span> <span class="va">fake_spl_context</span>,</span></span>
<span class="r-in"><span>  conf_level <span class="op">=</span> <span class="fl">0.9</span>,</span></span>
<span class="r-in"><span>  include_comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USA"</span>, <span class="st">"CHN"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  arm <span class="op">=</span> <span class="st">"SEX"</span>,</span></span>
<span class="r-in"><span>  strata <span class="op">=</span> <span class="st">"RACE"</span>,</span></span>
<span class="r-in"><span>  methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    comp_stat_ci <span class="op">=</span> <span class="st">"or_cmh"</span>,</span></span>
<span class="r-in"><span>    pval <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>    prop_ci <span class="op">=</span> <span class="st">"wald"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  formats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    prop_ci <span class="op">=</span> <span class="fu"><a href="jjcsformat_xx.html">jjcsformat_xx</a></span><span class="op">(</span><span class="st">"xx.% - xx.%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    comp_stat_ci <span class="op">=</span> <span class="fu"><a href="jjcsformat_xx.html">jjcsformat_xx</a></span><span class="op">(</span><span class="st">"xx.xx (xx.xx - xx.xx)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    pval <span class="op">=</span> <span class="fu"><a href="jjcsformat_pval_fct.html">jjcsformat_pval_fct</a></span><span class="op">(</span><span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RowsVerticalSection (in_rows) object print method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_name formatted_cell indent_mod row_label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      CHN    179 (50.3%)          0       CHN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      USA     44 (12.4%)          0       USA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      BRA      29 (8.1%)          0       BRA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      PAK      28 (7.9%)          0       PAK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      NGA      24 (6.7%)          0       NGA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      RUS      20 (5.6%)          0       RUS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      JPN      18 (5.1%)          0       JPN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      GBR       7 (2.0%)          0       GBR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      CAN       7 (2.0%)          0       CAN</span>
<span class="r-in"><span><span class="va">fake_spl_context2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  cur_col_split_val <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>ARM <span class="op">=</span> <span class="st">"Overall"</span>, comp_stat_ci <span class="op">=</span> <span class="st">"comp_stat_ci"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">resp01_acfun</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">dm</span>,</span></span>
<span class="r-in"><span>  .alt_df <span class="op">=</span> <span class="va">dm</span>,</span></span>
<span class="r-in"><span>  .var <span class="op">=</span> <span class="st">"COUNTRY"</span>,</span></span>
<span class="r-in"><span>  .spl_context <span class="op">=</span> <span class="va">fake_spl_context2</span>,</span></span>
<span class="r-in"><span>  conf_level <span class="op">=</span> <span class="fl">0.9</span>,</span></span>
<span class="r-in"><span>  include_comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USA"</span>, <span class="st">"CHN"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  arm <span class="op">=</span> <span class="st">"SEX"</span>,</span></span>
<span class="r-in"><span>  strata <span class="op">=</span> <span class="st">"RACE"</span>,</span></span>
<span class="r-in"><span>  methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    comp_stat_ci <span class="op">=</span> <span class="st">"or_cmh"</span>,</span></span>
<span class="r-in"><span>    pval <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>    prop_ci <span class="op">=</span> <span class="st">"wald"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  formats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    prop_ci <span class="op">=</span> <span class="fu"><a href="jjcsformat_xx.html">jjcsformat_xx</a></span><span class="op">(</span><span class="st">"xx.% - xx.%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    comp_stat_ci <span class="op">=</span> <span class="fu"><a href="jjcsformat_xx.html">jjcsformat_xx</a></span><span class="op">(</span><span class="st">"xx.xx (xx.xx - xx.xx)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    pval <span class="op">=</span> <span class="fu"><a href="jjcsformat_pval_fct.html">jjcsformat_pval_fct</a></span><span class="op">(</span><span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RowsVerticalSection (in_rows) object print method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_name     formatted_cell indent_mod row_label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      CHN 1.00 (0.71 - 1.42)          0       CHN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      USA 1.09 (0.64 - 1.86)          0       USA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      BRA                             0       BRA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      PAK                             0       PAK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      NGA                             0       NGA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      RUS                             0       RUS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      JPN                             0       JPN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      GBR                             0       GBR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      CAN                             0       CAN</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gabriel Becker, Ilse Augustyns, Paul Jenkins, Daniel Hofstaedter, Joseph Kovach, David Munoz Tord, Daniel Sabanes Bove, Ezequiel Anokian, Renfei Mao, Mrinal Das, Johnson &amp; Johnson Innovative Medicine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

