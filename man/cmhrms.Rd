% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cmhrms.R
\name{cmhrms}
\alias{cmhrms}
\alias{a_cmhrms_j}
\alias{s_cmhrms_j}
\title{Cochran-Mantel-Haenszel Row Mean Scores test}
\usage{
a_cmhrms_j(
  df,
  .var,
  ref_path,
  .spl_context,
  .ref_group,
  .in_ref_col,
  .df_row,
  ...,
  variables,
  .stats = "pvalue",
  .formats = NULL
)

s_cmhrms_j(df, .var, .ref_group, .in_ref_col, ..., .df_row, variables)
}
\arguments{
\item{df}{(\code{data.frame})\cr data set containing all analysis variables.}

\item{.var}{(\code{string})\cr single variable name that is passed by \code{rtables} when requested
by a statistics function.}

\item{ref_path}{(\code{character})\cr global reference group specification, see \code{\link[=get_ref_info]{get_ref_info()}}.}

\item{.spl_context}{(\code{data.frame})\cr gives information about ancestor split states
that is passed by \code{rtables}.}

\item{.ref_group}{(\code{data.frame} or \code{vector})\cr the data corresponding to the reference group.}

\item{.in_ref_col}{(\code{logical})\cr \code{TRUE} when working with the reference level, \code{FALSE} otherwise.}

\item{.df_row}{(\code{data.frame})\cr data frame across all of the columns for the given row split.}

\item{...}{additional arguments for the lower level functions.}

\item{variables}{(\code{list})\cr list with arm and strata variable names.}

\item{.stats}{(\code{character})\cr statistics to select for the table.}

\item{.formats}{(named \code{character} or \code{list})\cr formats for the statistics. See Details in \code{analyze_vars} for more
information on the \code{'auto'} setting.}
}
\value{
\itemize{
\item \code{s_cmhrms_j} a single element list containing the p-value from row mean score test.
\item \code{a_cmhrms_j} a VerticalRowsSection object (single row).
}
}
\description{
Note that the underlying method used for the calculation of the row mean score test (vcdExtra::CMHtest)
has more problems with sparse data (in the stratification factors) than proc freq from SAS.
This would result in singularity problems in the underlying calculations,
leading to unability to compute the p-value.
In this case, missing values are returned as alternative.
See \url{https://psiaims.github.io/CAMIS/Comp/r-sas_cmh.html} for a comparison overview between R and SAS.
}
\section{Functions}{
\itemize{
\item \code{a_cmhrms_j()}: Formatted analysis function which is used as \code{afun}.

\item \code{s_cmhrms_j()}: Statistics function for the calculation of the p-value
based upon the row mean scores test.

}}
